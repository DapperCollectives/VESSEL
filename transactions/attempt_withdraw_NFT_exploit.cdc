import DAOTreasury from "../contracts/DAOTreasury.cdc"
transaction() {
  
  prepare(signer: AuthAccount) {
    let COLLECTION_ID =  "A.f8d6e0586b0a20c7.ExampleNFT.Collection"
    
    let treasury <- signer.load<@DAOTreasury.Treasury>(from: DAOTreasury.TreasuryStoragePath)
        ?? panic("A DAOTreasury doesn't exist here.")

    let collection = treasury.borrowCollection(identifier: COLLECTION_ID)
    let nft <- treasury.withdrawNFT(identifier: COLLECTION_ID, id:0)

    // Do malicious stuff with unrestricted nft reference

    collection.deposit(token: <- nft)
    signer.save(<-treasury, to: DAOTreasury.TreasuryStoragePath)

  }
  execute {
    
  }
}