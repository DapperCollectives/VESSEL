import DAOTreasuryV3 from "../contracts/DAOTreasury.cdc"
transaction() {
  
  prepare(signer: AuthAccount) {
    let COLLECTION_ID =  "A.f8d6e0586b0a20c7.ExampleNFT.Collection"
    
    let treasury <- signer.load<@DAOTreasuryV3.Treasury>(from: DAOTreasuryV3.TreasuryStoragePath)
        ?? panic("A DAOTreasuryV3 doesn't exist here.")

    let nft <- treasury.withdrawNFT(identifier: COLLECTION_ID, id:0)

    // Do malicious stuff with unrestricted nft reference
    destroy nft
    signer.save(<-treasury, to: DAOTreasuryV3.TreasuryStoragePath)

  }
  execute {
    
  }
}