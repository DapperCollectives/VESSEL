import DAOTreasuryV2 from "../contracts/DAOTreasury.cdc"

transaction() {
  
  prepare(signer: AuthAccount) {
    let VAULT_ID = "A.0ae53cb6e3f42a79.FlowToken.Vault"

    let treasury <- signer.load<@DAOTreasuryV2.Treasury>(from: DAOTreasuryV2.TreasuryStoragePath)
        ?? panic("A DAOTreasuryV2 doesn't exist here.")
    let tokens <- treasury.withdrawTokens(identifier:VAULT_ID, amount:UFix64(1))

    // Do malicious stuff with unrestricted token reference
    
    destroy tokens
    signer.save(<-treasury, to: DAOTreasuryV2.TreasuryStoragePath)
  }
  execute {
    
  }
}